<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoCal Torrance â€” Property Profile (Monthly)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f8f9fa; color: #333; }
        .header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white; padding: 30px 20px; text-align: center;
        }
        .header h1 { font-size: 1.8em; margin-bottom: 4px; }
        .header .address { color: #aaa; font-size: 0.95em; }
        .header .category {
            display: inline-block; margin-top: 10px; padding: 4px 14px;
            border-radius: 20px; font-size: 0.85em; font-weight: 600;
            background: #c0392b; color: white;
        }
        .header .freq {
            display: inline-block; margin-top: 6px; padding: 3px 12px;
            border-radius: 16px; font-size: 0.78em; font-weight: 500;
            background: rgba(255,255,255,0.15); color: #ddd;
        }
        .container { max-width: 1100px; margin: 0 auto; padding: 20px; }
        .kpi-row {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px; margin-bottom: 24px;
        }
        .kpi {
            background: white; border-radius: 10px; padding: 16px; text-align: center;
            box-shadow: 0 1px 4px rgba(0,0,0,0.08);
        }
        .kpi .label { font-size: 0.75em; color: #888; text-transform: uppercase; letter-spacing: 0.5px; }
        .kpi .value { font-size: 1.5em; font-weight: 700; margin-top: 4px; }
        .kpi .sub { font-size: 0.75em; color: #999; margin-top: 2px; }
        .chart-grid {
            display: grid; grid-template-columns: 1fr 1fr;
            gap: 16px; margin-bottom: 20px;
        }
        .chart-card {
            background: white; border-radius: 10px; padding: 20px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.08);
        }
        .chart-card h3 {
            font-size: 0.95em; color: #555; margin-bottom: 12px;
            border-bottom: 2px solid #eee; padding-bottom: 6px;
        }
        .chart-card .note {
            font-size: 0.72em; color: #aaa; margin-top: 4px; font-style: italic;
        }
        canvas { max-height: 300px; }
        .data-table {
            background: white; border-radius: 10px; padding: 20px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.08); margin-bottom: 20px;
            overflow-x: auto;
        }
        .data-table h3 { font-size: 0.95em; color: #555; margin-bottom: 12px; }
        table { width: 100%; border-collapse: collapse; font-size: 0.85em; }
        th { background: #f1f3f5; padding: 8px 10px; text-align: right; font-weight: 600; color: #555; }
        th:first-child { text-align: left; }
        td { padding: 8px 10px; border-bottom: 1px solid #f0f0f0; text-align: right; }
        td:first-child { text-align: left; font-weight: 600; }
        .footer {
            text-align: center; padding: 20px; color: #aaa; font-size: 0.8em;
            border-top: 1px solid #eee; margin-top: 20px;
        }
        .footer a { color: #888; text-decoration: none; }
        .nav { text-align: center; margin-bottom: 16px; }
        .nav a {
            display: inline-block; padding: 6px 16px; margin: 4px;
            border-radius: 20px; background: #e9ecef; color: #495057;
            text-decoration: none; font-size: 0.85em;
        }
        .nav a:hover { background: #dee2e6; }
        @media (max-width: 700px) {
            .chart-grid { grid-template-columns: 1fr; }
            .kpi-row { grid-template-columns: repeat(3, 1fr); }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ”´ SoCal Torrance</h1>
        <div class="address">2515 Maricopa Street, Torrance, CA 90503.0 &nbsp;|&nbsp; Built: 1976</div>
        <div class="category">Always High Vacancy</div>
        <div class="freq">Operating Statements Filed: Quarterly &nbsp;|&nbsp; Loan: Monthly</div>
    </div>
    <div class="container">
        <div class="nav">
            <a href="index.html">&larr; All Maps</a>
            <a href="property_profiles.html">All 8 Profiles</a>
        </div>

        <div class="kpi-row">
            <div class="kpi">
                <div class="label">Latest Vacancy</div>
                <div class="value" style="color: #e74c3c;">24.0%</div>
                <div class="sub">2024-10</div>
            </div>
            <div class="kpi">
                <div class="label">Latest NOI</div>
                <div class="value">$634,206</div>
                <div class="sub">2025-01</div>
            </div>
            <div class="kpi">
                <div class="label">Latest DSCR</div>
                <div class="value" style="color: #27ae60;">4.46x</div>
                <div class="sub">2025-01</div>
            </div>
            <div class="kpi">
                <div class="label">Loan Balance</div>
                <div class="value">$0</div>
                <div class="sub">2025-09</div>
            </div>
            <div class="kpi">
                <div class="label">Data Span</div>
                <div class="value" style="font-size:1.1em;">2015&ndash;2025</div>
                <div class="sub">125 monthly obs</div>
            </div>
            <div class="kpi">
                <div class="label">Watchlist</div>
                <div class="value" style="color: #27ae60;">No</div>
                <div class="sub">&nbsp;</div>
            </div>
        </div>

        <div class="chart-grid">
            <div class="chart-card">
                <h3>Vacancy Rate (%)</h3>
                <canvas id="chartVacancy"></canvas>
                <div class="note">Plotted at quarterly filing dates only</div>
            </div>
            <div class="chart-card">
                <h3>NOI &amp; Revenue ($)</h3>
                <canvas id="chartNOI"></canvas>
                <div class="note">Plotted at quarterly filing dates only</div>
            </div>
            <div class="chart-card">
                <h3>OPEX &amp; OPEX Ratio</h3>
                <canvas id="chartOPEX"></canvas>
                <div class="note">Plotted at quarterly filing dates only</div>
            </div>
            <div class="chart-card">
                <h3>Loan Balance â€” Monthly Amortisation ($)</h3>
                <canvas id="chartLoan"></canvas>
                <div class="note">Every monthly remittance tape observation</div>
            </div>
            <div class="chart-card">
                <h3>DSCR (Debt Service Coverage)</h3>
                <canvas id="chartDSCR"></canvas>
                <div class="note">Plotted at quarterly filing dates only</div>
            </div>
            <div class="chart-card">
                <h3>NOI Margin (%)</h3>
                <canvas id="chartMargin"></canvas>
                <div class="note">Plotted at quarterly filing dates only</div>
            </div>
        </div>

        <div class="data-table">
            <h3>Operating Statement Data (Filed Quarterly)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Date</th><th>Vacancy</th><th>NOI</th><th>Revenue</th>
                        <th>OPEX</th><th>OPEX Ratio</th><th>NOI Margin</th>
                        <th>DSCR</th><th>Loan Bal.</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>2015-12</td><td>14.0%</td><td>$365,331</td><td>$632,937</td><td>$267,606</td><td>42.3%</td><td>57.7%</td><td>2.59x</td><td>$4,600,000</td></tr>
                    <tr><td>2016-07</td><td>16.0%</td><td>$136,767</td><td>$224,708</td><td>$87,941</td><td>39.1%</td><td>60.9%</td><td>2.90x</td><td>$4,600,000</td></tr>
                    <tr><td>2016-09</td><td>17.0%</td><td>$274,395</td><td>$442,838</td><td>$168,443</td><td>38.0%</td><td>62.0%</td><td>â€”</td><td>$4,600,000</td></tr>
                    <tr><td>2016-11</td><td>21.0%</td><td>$424,700</td><td>$679,872</td><td>$255,172</td><td>37.5%</td><td>62.5%</td><td>2.98x</td><td>$4,600,000</td></tr>
                    <tr><td>2017-05</td><td>25.0%</td><td>$144,102</td><td>$224,599</td><td>$80,497</td><td>35.8%</td><td>64.2%</td><td>3.09x</td><td>$4,600,000</td></tr>
                    <tr><td>2017-08</td><td>23.0%</td><td>$284,457</td><td>$444,289</td><td>$159,832</td><td>36.0%</td><td>64.0%</td><td>3.02x</td><td>$4,600,000</td></tr>
                    <tr><td>2017-11</td><td>26.0%</td><td>$437,519</td><td>$679,872</td><td>$242,353</td><td>35.6%</td><td>64.4%</td><td>3.09x</td><td>$4,600,000</td></tr>
                    <tr><td>2018-06</td><td>24.0%</td><td>$164,367</td><td>$247,616</td><td>$83,249</td><td>33.6%</td><td>66.4%</td><td>3.53x</td><td>$4,600,000</td></tr>
                    <tr><td>2018-08</td><td>22.0%</td><td>$326,380</td><td>$486,616</td><td>$160,236</td><td>32.9%</td><td>67.1%</td><td>3.47x</td><td>$4,600,000</td></tr>
                    <tr><td>2018-12</td><td>24.0%</td><td>$489,306</td><td>$732,485</td><td>$243,179</td><td>33.2%</td><td>66.8%</td><td>3.45x</td><td>$4,600,000</td></tr>
                    <tr><td>2019-09</td><td>29.0%</td><td>$309,796</td><td>$480,873</td><td>$171,077</td><td>35.6%</td><td>64.4%</td><td>3.29x</td><td>$4,600,000</td></tr>
                    <tr><td>2019-11</td><td>â€”</td><td>$468,345</td><td>$721,582</td><td>$253,237</td><td>35.1%</td><td>64.9%</td><td>3.30x</td><td>$4,600,000</td></tr>
                    <tr><td>2020-07</td><td>27.0%</td><td>$167,254</td><td>$254,969</td><td>$87,715</td><td>34.4%</td><td>65.6%</td><td>3.55x</td><td>$4,600,000</td></tr>
                    <tr><td>2020-09</td><td>29.0%</td><td>$305,558</td><td>$483,398</td><td>$177,840</td><td>36.8%</td><td>63.2%</td><td>3.23x</td><td>$4,600,000</td></tr>
                    <tr><td>2020-12</td><td>25.0%</td><td>$462,884</td><td>$732,034</td><td>$269,150</td><td>36.8%</td><td>63.2%</td><td>3.25x</td><td>$4,600,000</td></tr>
                    <tr><td>2021-07</td><td>22.0%</td><td>$186,022</td><td>$276,422</td><td>$90,400</td><td>32.7%</td><td>67.3%</td><td>3.99x</td><td>$4,600,000</td></tr>
                    <tr><td>2021-09</td><td>18.0%</td><td>$367,164</td><td>$536,688</td><td>$169,524</td><td>31.6%</td><td>68.4%</td><td>3.90x</td><td>$4,600,000</td></tr>
                    <tr><td>2021-12</td><td>19.0%</td><td>$543,956</td><td>$806,137</td><td>$262,181</td><td>32.5%</td><td>67.5%</td><td>3.84x</td><td>$4,600,000</td></tr>
                    <tr><td>2022-07</td><td>16.0%</td><td>$218,415</td><td>$315,853</td><td>$97,438</td><td>30.8%</td><td>69.2%</td><td>4.69x</td><td>$4,600,000</td></tr>
                    <tr><td>2022-09</td><td>15.0%</td><td>$415,116</td><td>$616,089</td><td>$200,973</td><td>32.6%</td><td>67.4%</td><td>4.41x</td><td>$4,600,000</td></tr>
                    <tr><td>2022-12</td><td>13.0%</td><td>$619,989</td><td>$919,394</td><td>$299,405</td><td>32.6%</td><td>67.4%</td><td>4.37x</td><td>$4,600,000</td></tr>
                    <tr><td>2023-06</td><td>15.0%</td><td>$213,870</td><td>$324,602</td><td>$110,732</td><td>34.1%</td><td>65.9%</td><td>4.59x</td><td>$4,600,000</td></tr>
                    <tr><td>2023-08</td><td>â€”</td><td>$422,401</td><td>$631,401</td><td>$209,000</td><td>33.1%</td><td>66.9%</td><td>4.47x</td><td>$4,600,000</td></tr>
                    <tr><td>2023-12</td><td>â€”</td><td>$632,106</td><td>$947,759</td><td>$315,653</td><td>33.3%</td><td>66.7%</td><td>4.46x</td><td>$4,600,000</td></tr>
                    <tr><td>2024-08</td><td>22.0%</td><td>$213,350</td><td>$324,602</td><td>$111,252</td><td>34.3%</td><td>65.7%</td><td>4.53x</td><td>$4,600,000</td></tr>
                    <tr><td>2024-10</td><td>24.0%</td><td>$419,521</td><td>$621,735</td><td>$202,214</td><td>32.5%</td><td>67.5%</td><td>4.43x</td><td>$4,600,000</td></tr>
                    <tr><td>2025-01</td><td>â€”</td><td>$634,206</td><td>$933,211</td><td>$299,005</td><td>32.0%</td><td>68.0%</td><td>4.46x</td><td>$4,600,000</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="footer">
        <p>TerraCotta Group â€” CRE Research | Data: Trepp CMBS via Snowflake (monthly resolution)</p>
        <p><a href="index.html">&larr; Back to Maps</a> &nbsp;|&nbsp; <a href="property_profiles.html">All Profiles</a></p>
    </div>

    <script>
    const loanLabels = ["2015-05", "2015-06", "2015-07", "2015-08", "2015-09", "2015-10", "2015-11", "2015-12", "2016-01", "2016-02", "2016-03", "2016-04", "2016-05", "2016-06", "2016-07", "2016-08", "2016-09", "2016-10", "2016-11", "2016-12", "2017-01", "2017-02", "2017-03", "2017-04", "2017-05", "2017-06", "2017-07", "2017-08", "2017-09", "2017-10", "2017-11", "2017-12", "2018-01", "2018-02", "2018-03", "2018-04", "2018-05", "2018-06", "2018-07", "2018-08", "2018-09", "2018-10", "2018-11", "2018-12", "2019-01", "2019-02", "2019-03", "2019-04", "2019-05", "2019-06", "2019-07", "2019-08", "2019-09", "2019-10", "2019-11", "2019-12", "2020-01", "2020-02", "2020-03", "2020-04", "2020-05", "2020-06", "2020-07", "2020-08", "2020-09", "2020-10", "2020-11", "2020-12", "2021-01", "2021-02", "2021-03", "2021-04", "2021-05", "2021-06", "2021-07", "2021-08", "2021-09", "2021-10", "2021-11", "2021-12", "2022-01", "2022-02", "2022-03", "2022-04", "2022-05", "2022-06", "2022-07", "2022-08", "2022-09", "2022-10", "2022-11", "2022-12", "2023-01", "2023-02", "2023-03", "2023-04", "2023-05", "2023-06", "2023-07", "2023-08", "2023-09", "2023-10", "2023-11", "2023-12", "2024-01", "2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09"];
    const loanData   = [0.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 4600000.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
    const vacLabels  = ["2015-12", "2016-07", "2016-09", "2016-11", "2017-05", "2017-08", "2017-11", "2018-06", "2018-08", "2018-12", "2019-09", "2020-07", "2020-09", "2020-12", "2021-07", "2021-09", "2021-12", "2022-07", "2022-09", "2022-12", "2023-06", "2024-08", "2024-10"];
    const vacData    = [14.0, 16.0, 17.0, 21.0, 25.0, 23.0, 26.0, 24.0, 22.0, 24.0, 29.0, 27.0, 29.0, 25.0, 22.0, 18.0, 19.0, 16.0, 15.0, 13.0, 15.0, 22.0, 24.0];
    const noiLabels  = ["2015-12", "2016-07", "2016-09", "2016-11", "2017-05", "2017-08", "2017-11", "2018-06", "2018-08", "2018-12", "2019-09", "2019-11", "2020-07", "2020-09", "2020-12", "2021-07", "2021-09", "2021-12", "2022-07", "2022-09", "2022-12", "2023-06", "2023-08", "2023-12", "2024-08", "2024-10", "2025-01"];
    const noiData    = [365331.0, 136767.0, 274395.0, 424700.0, 144102.0, 284457.0, 437519.0, 164367.0, 326380.0, 489306.0, 309796.0, 468345.0, 167254.0, 305558.0, 462883.71, 186021.53, 367164.42, 543956.33, 218414.57, 415116.16, 619988.61, 213869.63, 422401.44, 632105.71, 213350.25, 419520.63, 634206.44];
    const revLabels  = ["2015-12", "2016-07", "2016-09", "2016-11", "2017-05", "2017-08", "2017-11", "2018-06", "2018-08", "2018-12", "2019-09", "2019-11", "2020-07", "2020-09", "2020-12", "2021-07", "2021-09", "2021-12", "2022-07", "2022-09", "2022-12", "2023-06", "2023-08", "2023-12", "2024-08", "2024-10", "2025-01"];
    const revData    = [632937.0, 224708.0, 442838.0, 679872.0, 224599.0, 444289.0, 679872.0, 247616.0, 486616.0, 732485.0, 480873.0, 721582.0, 254969.0, 483398.0, 732034.0, 276422.0, 536688.0, 806137.0, 315853.0, 616089.0, 919394.0, 324602.0, 631401.0, 947759.0, 324602.0, 621735.0, 933211.0];
    const opexLabels = ["2015-12", "2016-07", "2016-09", "2016-11", "2017-05", "2017-08", "2017-11", "2018-06", "2018-08", "2018-12", "2019-09", "2019-11", "2020-07", "2020-09", "2020-12", "2021-07", "2021-09", "2021-12", "2022-07", "2022-09", "2022-12", "2023-06", "2023-08", "2023-12", "2024-08", "2024-10", "2025-01"];
    const opexData   = [267606.0, 87941.0, 168443.0, 255172.0, 80497.0, 159832.0, 242353.0, 83249.0, 160236.0, 243179.0, 171077.0, 253237.0, 87715.0, 177840.0, 269150.29, 90400.47, 169523.58, 262180.67, 97438.43, 200972.84, 299405.39, 110732.37, 208999.56, 315653.29, 111251.75, 202214.37, 299004.56];
    const dscrLabels = ["2015-12", "2016-07", "2016-11", "2017-05", "2017-08", "2017-11", "2018-06", "2018-08", "2018-12", "2019-09", "2019-11", "2020-07", "2020-09", "2020-12", "2021-07", "2021-09", "2021-12", "2022-07", "2022-09", "2022-12", "2023-06", "2023-08", "2023-12", "2024-08", "2024-10", "2025-01"];
    const dscrData   = [2.59, 2.9, 2.98, 3.09, 3.02, 3.09, 3.53, 3.47, 3.45, 3.29, 3.3, 3.55, 3.23, 3.25, 3.99, 3.9, 3.84, 4.69, 4.41, 4.37, 4.59, 4.47, 4.46, 4.53, 4.43, 4.46];
    const opexRatioLabels = ["2015-12", "2016-07", "2016-09", "2016-11", "2017-05", "2017-08", "2017-11", "2018-06", "2018-08", "2018-12", "2019-09", "2019-11", "2020-07", "2020-09", "2020-12", "2021-07", "2021-09", "2021-12", "2022-07", "2022-09", "2022-12", "2023-06", "2023-08", "2023-12", "2024-08", "2024-10", "2025-01"];
    const opexRatioData   = [42.3, 39.1, 38.0, 37.5, 35.8, 36.0, 35.6, 33.6, 32.9, 33.2, 35.6, 35.1, 34.4, 36.8, 36.8, 32.7, 31.6, 32.5, 30.8, 32.6, 32.6, 34.1, 33.1, 33.3, 34.3, 32.5, 32.0];
    const noiMarginLabels = ["2015-12", "2016-07", "2016-09", "2016-11", "2017-05", "2017-08", "2017-11", "2018-06", "2018-08", "2018-12", "2019-09", "2019-11", "2020-07", "2020-09", "2020-12", "2021-07", "2021-09", "2021-12", "2022-07", "2022-09", "2022-12", "2023-06", "2023-08", "2023-12", "2024-08", "2024-10", "2025-01"];
    const noiMarginData   = [57.7, 60.9, 62.0, 62.5, 64.2, 64.0, 64.4, 66.4, 67.1, 66.8, 64.4, 64.9, 65.6, 63.2, 63.2, 67.3, 68.4, 67.5, 69.2, 67.4, 67.4, 65.9, 66.9, 66.7, 65.7, 67.5, 68.0];

    const commonOpts = {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
            legend: { display: true, position: 'top', labels: { font: { size: 11 } } },
            tooltip: { mode: 'index', intersect: false }
        },
        scales: {
            x: { ticks: { font: { size: 10 }, maxRotation: 45, autoSkip: true, maxTicksLimit: 18 } },
            y: { ticks: { font: { size: 11 } } }
        },
        spanGaps: true,
    };

    new Chart(document.getElementById('chartVacancy'), {
        type: 'line',
        data: {
            labels: vacLabels,
            datasets: [{
                label: 'Vacancy %',
                data: vacData,
                borderColor: '#e74c3c',
                backgroundColor: 'rgba(231,76,60,0.1)',
                fill: true, tension: 0.3, pointRadius: 5, borderWidth: 2,
            }]
        },
        options: { ...commonOpts, scales: { ...commonOpts.scales, y: { min: 0, ticks: { callback: v => v+'%' } } } }
    });

    new Chart(document.getElementById('chartNOI'), {
        type: 'bar',
        data: {
            labels: noiLabels,
            datasets: [
                { label: 'Revenue', data: revData, backgroundColor: 'rgba(52,152,219,0.6)', borderRadius: 3 },
                { label: 'NOI', data: noiData, backgroundColor: 'rgba(46,204,113,0.7)', borderRadius: 3 },
            ]
        },
        options: { ...commonOpts, scales: { ...commonOpts.scales, y: { ticks: { callback: v => '$'+Math.round(v/1000)+'K' } } } }
    });

    new Chart(document.getElementById('chartOPEX'), {
        type: 'bar',
        data: {
            labels: opexLabels,
            datasets: [
                { label: 'OPEX ($)', data: opexData, backgroundColor: 'rgba(230,126,34,0.6)', borderRadius: 3, yAxisID: 'y' },
                { label: 'OPEX Ratio (%)', data: opexRatioData, type: 'line', borderColor: '#8e44ad',
                   pointRadius: 4, borderWidth: 2, yAxisID: 'y1' },
            ]
        },
        options: {
            ...commonOpts,
            scales: {
                x: commonOpts.scales.x,
                y: { position: 'left', ticks: { callback: v => '$'+Math.round(v/1000)+'K' } },
                y1: { position: 'right', grid: { drawOnChartArea: false }, ticks: { callback: v => v+'%' }, min: 0, max: 100 },
            }
        }
    });

    new Chart(document.getElementById('chartLoan'), {
        type: 'line',
        data: {
            labels: loanLabels,
            datasets: [{
                label: 'Loan Balance',
                data: loanData,
                borderColor: '#2c3e50',
                backgroundColor: 'rgba(44,62,80,0.08)',
                fill: true, tension: 0.1, pointRadius: 0, borderWidth: 2,
            }]
        },
        options: { ...commonOpts, scales: { ...commonOpts.scales, y: { ticks: { callback: v => '$'+(v/1e6).toFixed(1)+'M' } } } }
    });

    new Chart(document.getElementById('chartDSCR'), {
        type: 'line',
        data: {
            labels: dscrLabels,
            datasets: [
                { label: 'DSCR', data: dscrData, borderColor: '#2980b9', pointRadius: 5, borderWidth: 2, tension: 0.3 },
                { label: '1.0x', data: dscrLabels.map(() => 1.0), borderColor: '#e74c3c', borderDash: [6,4], borderWidth: 1.5, pointRadius: 0 },
                { label: '1.25x', data: dscrLabels.map(() => 1.25), borderColor: '#f39c12', borderDash: [6,4], borderWidth: 1.5, pointRadius: 0 },
            ]
        },
        options: { ...commonOpts, scales: { ...commonOpts.scales, y: { min: 0, ticks: { callback: v => v.toFixed(1)+'x' } } } }
    });

    new Chart(document.getElementById('chartMargin'), {
        type: 'line',
        data: {
            labels: noiMarginLabels,
            datasets: [{
                label: 'NOI Margin %',
                data: noiMarginData,
                borderColor: '#27ae60',
                backgroundColor: 'rgba(39,174,96,0.1)',
                fill: true, tension: 0.3, pointRadius: 5, borderWidth: 2,
            }]
        },
        options: { ...commonOpts, scales: { ...commonOpts.scales, y: { min: 0, max: 100, ticks: { callback: v => v+'%' } } } }
    });
    </script>
</body>
</html>