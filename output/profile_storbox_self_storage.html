<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Storbox Self Storage ‚Äî Property Profile</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f8f9fa; color: #333; }
        .header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white; padding: 30px 20px; text-align: center;
        }
        .header h1 { font-size: 1.8em; margin-bottom: 4px; }
        .header .address { color: #aaa; font-size: 0.95em; }
        .header .category {
            display: inline-block; margin-top: 10px; padding: 4px 14px;
            border-radius: 20px; font-size: 0.85em; font-weight: 600;
            background: #c0392b; color: white;
        }
        .container { max-width: 1100px; margin: 0 auto; padding: 20px; }
        .kpi-row {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px; margin-bottom: 24px;
        }
        .kpi {
            background: white; border-radius: 10px; padding: 16px; text-align: center;
            box-shadow: 0 1px 4px rgba(0,0,0,0.08);
        }
        .kpi .label { font-size: 0.75em; color: #888; text-transform: uppercase; letter-spacing: 0.5px; }
        .kpi .value { font-size: 1.5em; font-weight: 700; margin-top: 4px; }
        .kpi .sub { font-size: 0.75em; color: #999; margin-top: 2px; }
        .chart-grid {
            display: grid; grid-template-columns: 1fr 1fr;
            gap: 16px; margin-bottom: 20px;
        }
        .chart-card {
            background: white; border-radius: 10px; padding: 20px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.08);
        }
        .chart-card h3 {
            font-size: 0.95em; color: #555; margin-bottom: 12px;
            border-bottom: 2px solid #eee; padding-bottom: 6px;
        }
        canvas { max-height: 280px; }
        .data-table {
            background: white; border-radius: 10px; padding: 20px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.08); margin-bottom: 20px;
            overflow-x: auto;
        }
        .data-table h3 { font-size: 0.95em; color: #555; margin-bottom: 12px; }
        table { width: 100%; border-collapse: collapse; font-size: 0.85em; }
        th { background: #f1f3f5; padding: 8px 10px; text-align: right; font-weight: 600; color: #555; }
        th:first-child { text-align: left; }
        td { padding: 8px 10px; border-bottom: 1px solid #f0f0f0; text-align: right; }
        td:first-child { text-align: left; font-weight: 600; }
        .footer {
            text-align: center; padding: 20px; color: #aaa; font-size: 0.8em;
            border-top: 1px solid #eee; margin-top: 20px;
        }
        .footer a { color: #888; text-decoration: none; }
        .nav { text-align: center; margin-bottom: 16px; }
        .nav a {
            display: inline-block; padding: 6px 16px; margin: 4px;
            border-radius: 20px; background: #e9ecef; color: #495057;
            text-decoration: none; font-size: 0.85em;
        }
        .nav a:hover { background: #dee2e6; }
        @media (max-width: 700px) {
            .chart-grid { grid-template-columns: 1fr; }
            .kpi-row { grid-template-columns: repeat(3, 1fr); }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üî¥ Storbox Self Storage</h1>
        <div class="address">2161, 2181 & 2233 East Foothills Boulevard, Pasadena, CA 91107.0 &nbsp;|&nbsp; Built: 2001</div>
        <div class="category">Always High Vacancy</div>
    </div>
    <div class="container">
        <div class="nav">
            <a href="index.html">‚Üê All Maps</a>
            <a href="property_profiles.html">All 8 Profiles</a>
        </div>

        <div class="kpi-row">
            <div class="kpi">
                <div class="label">Latest Vacancy</div>
                <div class="value" style="color: #27ae60;">13.0%</div>
                <div class="sub">2025</div>
            </div>
            <div class="kpi">
                <div class="label">Latest NOI</div>
                <div class="value">$2,903,037</div>
                <div class="sub">2025</div>
            </div>
            <div class="kpi">
                <div class="label">Latest DSCR</div>
                <div class="value" style="color: #27ae60;">2.88x</div>
                <div class="sub">2025</div>
            </div>
            <div class="kpi">
                <div class="label">Loan Balance</div>
                <div class="value">$41,500,000</div>
                <div class="sub">2025</div>
            </div>
            <div class="kpi">
                <div class="label">Data Span</div>
                <div class="value" style="font-size:1.1em;">2008‚Äì2025</div>
                <div class="sub">19 years</div>
            </div>
            <div class="kpi">
                <div class="label">Watchlist</div>
                <div class="value" style="color: #27ae60;">‚úÖ No</div>
                <div class="sub">2025</div>
            </div>
        </div>

        <div class="chart-grid">
            <div class="chart-card">
                <h3>üìä Vacancy Rate (%)</h3>
                <canvas id="chartVacancy"></canvas>
            </div>
            <div class="chart-card">
                <h3>üí∞ NOI & Revenue ($)</h3>
                <canvas id="chartNOI"></canvas>
            </div>
            <div class="chart-card">
                <h3>üèóÔ∏è OPEX & OPEX Ratio</h3>
                <canvas id="chartOPEX"></canvas>
            </div>
            <div class="chart-card">
                <h3>üè¶ Loan Balance ($)</h3>
                <canvas id="chartLoan"></canvas>
            </div>
            <div class="chart-card">
                <h3>üìà DSCR (Debt Service Coverage)</h3>
                <canvas id="chartDSCR"></canvas>
            </div>
            <div class="chart-card">
                <h3>üìä NOI Margin (%)</h3>
                <canvas id="chartMargin"></canvas>
            </div>
        </div>

        <div class="data-table">
            <h3>üìã Full Data Table</h3>
            <table>
                <thead>
                    <tr>
                        <th>Year</th><th>Vacancy</th><th>NOI</th><th>Revenue</th>
                        <th>OPEX</th><th>OPEX Ratio</th><th>NOI Margin</th>
                        <th>DSCR</th><th>Loan Bal.</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>2008</td><td>31.0%</td><td>$926,750</td><td>$1,413,895</td><td>$487,145</td><td>34.5%</td><td>65.5%</td><td>1.46x</td><td>$22,000,000</td></tr>
                    <tr><td>2009</td><td>30.0%</td><td>$999,711</td><td>$1,452,075</td><td>$452,364</td><td>31.2%</td><td>68.8%</td><td>1.58x</td><td>$22,000,000</td></tr>
                    <tr><td>2010</td><td>31.0%</td><td>$983,344</td><td>$1,376,456</td><td>$393,112</td><td>28.6%</td><td>71.4%</td><td>1.36x</td><td>$21,841,891</td></tr>
                    <tr><td>2011</td><td>28.0%</td><td>$1,018,362</td><td>$1,426,632</td><td>$408,270</td><td>28.6%</td><td>71.4%</td><td>1.33x</td><td>$21,563,987</td></tr>
                    <tr><td>2012</td><td>21.0%</td><td>$1,132,629</td><td>$1,604,626</td><td>$471,997</td><td>29.4%</td><td>70.6%</td><td>1.48x</td><td>$21,273,110</td></tr>
                    <tr><td>2013</td><td>20.0%</td><td>$716,651</td><td>$952,381</td><td>$235,730</td><td>24.8%</td><td>75.2%</td><td>1.87x</td><td>$20,961,512</td></tr>
                    <tr><td>2014</td><td>17.0%</td><td>$1,618,406</td><td>$2,098,533</td><td>$480,127</td><td>22.9%</td><td>77.1%</td><td>2.11x</td><td>$20,631,455</td></tr>
                    <tr><td>2015</td><td>19.0%</td><td>$1,700,097</td><td>$2,261,369</td><td>$561,272</td><td>24.8%</td><td>75.2%</td><td>2.22x</td><td>$20,281,845</td></tr>
                    <tr><td>2016</td><td>18.0%</td><td>$1,726,129</td><td>$2,345,162</td><td>$619,033</td><td>26.4%</td><td>73.6%</td><td>2.26x</td><td>$19,914,800</td></tr>
                    <tr><td>2017</td><td>18.0%</td><td>$2,710,284</td><td>$3,545,029</td><td>$834,745</td><td>23.5%</td><td>76.5%</td><td>2.36x</td><td>$0</td></tr>
                    <tr><td>2017</td><td>15.0%</td><td>$1,706,750</td><td>$2,472,120</td><td>$765,370</td><td>31.0%</td><td>69.0%</td><td>1.69x</td><td>$41,500,000</td></tr>
                    <tr><td>2018</td><td>9.0%</td><td>$897,807</td><td>$1,256,959</td><td>$359,152</td><td>28.6%</td><td>71.4%</td><td>1.80x</td><td>$41,500,000</td></tr>
                    <tr><td>2019</td><td>17.0%</td><td>$1,080,765</td><td>$1,346,478</td><td>$265,713</td><td>19.7%</td><td>80.3%</td><td>2.17x</td><td>$41,500,000</td></tr>
                    <tr><td>2020</td><td>30.0%</td><td>$2,212,097</td><td>$2,726,636</td><td>$514,539</td><td>18.9%</td><td>81.1%</td><td>2.18x</td><td>$41,500,000</td></tr>
                    <tr><td>2021</td><td>36.0%</td><td>$2,480,377</td><td>$3,029,275</td><td>$548,898</td><td>18.1%</td><td>81.9%</td><td>2.46x</td><td>$41,500,000</td></tr>
                    <tr><td>2022</td><td>8.0%</td><td>$2,703,068</td><td>$3,298,028</td><td>$594,960</td><td>18.0%</td><td>82.0%</td><td>2.68x</td><td>$41,500,000</td></tr>
                    <tr><td>2023</td><td>11.0%</td><td>$2,827,446</td><td>$3,460,493</td><td>$633,047</td><td>18.3%</td><td>81.7%</td><td>2.80x</td><td>$41,500,000</td></tr>
                    <tr><td>2024</td><td>4.0%</td><td>$1,387,642</td><td>$1,734,849</td><td>$347,207</td><td>20.0%</td><td>80.0%</td><td>2.74x</td><td>$41,500,000</td></tr>
                    <tr><td>2025</td><td>13.0%</td><td>$2,903,037</td><td>$3,683,595</td><td>$780,558</td><td>21.2%</td><td>78.8%</td><td>2.88x</td><td>$41,500,000</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="footer">
        <p>TerraCotta Group ‚Äî CRE Research | Data: Trepp CMBS via Snowflake</p>
        <p><a href="index.html">‚Üê Back to Maps</a> &nbsp;|&nbsp; <a href="property_profiles.html">All Profiles</a></p>
    </div>

    <script>
    const years = [2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024, 2025];
    const vacancy = [31.0, 30.0, 31.0, 28.0, 21.0, 20.0, 17.0, 19.0, 18.0, 18.0, 15.0, 9.0, 17.0, 30.0, 36.0, 8.0, 11.0, 4.0, 13.0];
    const noi = [926750.28, 999711.28, 983344.0, 1018362.0, 1132629.0, 716651.0, 1618406.0, 1700097.0, 1726129.0, 2710284.0, 1706750.0, 897807.0, 1080765.0, 2212097.0, 2480377.28, 2703068.1, 2827446.13, 1387642.37, 2903036.51];
    const revenue = [1413894.82, 1452074.83, 1376456.0, 1426632.0, 1604626.0, 952381.0, 2098533.0, 2261369.0, 2345162.0, 3545029.0, 2472120.0, 1256959.0, 1346478.0, 2726636.0, 3029275.0, 3298028.0, 3460493.0, 1734849.0, 3683595.0];
    const opex = [487144.54, 452363.55, 393112.0, 408270.0, 471997.0, 235730.0, 480127.0, 561272.0, 619033.0, 834745.0, 765370.0, 359152.0, 265713.0, 514539.0, 548897.72, 594959.9, 633046.87, 347206.63, 780558.49];
    const opexRatio = [34.5, 31.2, 28.6, 28.6, 29.4, 24.8, 22.9, 24.8, 26.4, 23.5, 31.0, 28.6, 19.7, 18.9, 18.1, 18.0, 18.3, 20.0, 21.2];
    const noiMargin = [65.5, 68.8, 71.4, 71.4, 70.6, 75.2, 77.1, 75.2, 73.6, 76.5, 69.0, 71.4, 80.3, 81.1, 81.9, 82.0, 81.7, 80.0, 78.8];
    const dscr = [1.46, 1.58, 1.36, 1.33, 1.48, 1.87, 2.11, 2.22, 2.26, 2.36, 1.69, 1.8, 2.17, 2.18, 2.46, 2.68, 2.8, 2.74, 2.88];
    const loan = [22000000.0, 22000000.0, 21841890.57, 21563987.19, 21273110.28, 20961512.2, 20631454.95, 20281845.04, 19914799.95, 0.0, 41500000.0, 41500000.0, 41500000.0, 41500000.0, 41500000.0, 41500000.0, 41500000.0, 41500000.0, 41500000.0];

    const commonOpts = {
        responsive: true,
        maintainAspectRatio: true,
        plugins: { legend: { display: true, position: 'top', labels: { font: { size: 11 } } } },
        scales: { x: { ticks: { font: { size: 11 } } }, y: { ticks: { font: { size: 11 } } } },
        spanGaps: true,
    };

    // Vacancy
    new Chart(document.getElementById('chartVacancy'), {
        type: 'line',
        data: {
            labels: years,
            datasets: [{
                label: 'Vacancy %',
                data: vacancy,
                borderColor: '#e74c3c',
                backgroundColor: 'rgba(231,76,60,0.1)',
                fill: true, tension: 0.3, pointRadius: 4, borderWidth: 2,
            }]
        },
        options: { ...commonOpts, scales: { ...commonOpts.scales, y: { min: 0, ticks: { callback: v => v+'%' } } } }
    });

    // NOI & Revenue
    new Chart(document.getElementById('chartNOI'), {
        type: 'bar',
        data: {
            labels: years,
            datasets: [
                { label: 'Revenue', data: revenue, backgroundColor: 'rgba(52,152,219,0.6)', borderRadius: 3 },
                { label: 'NOI', data: noi, backgroundColor: 'rgba(46,204,113,0.7)', borderRadius: 3 },
            ]
        },
        options: { ...commonOpts, scales: { ...commonOpts.scales, y: { ticks: { callback: v => '$'+Math.round(v/1000)+'K' } } } }
    });

    // OPEX + OPEX Ratio
    new Chart(document.getElementById('chartOPEX'), {
        type: 'bar',
        data: {
            labels: years,
            datasets: [
                { label: 'OPEX ($)', data: opex, backgroundColor: 'rgba(230,126,34,0.6)', borderRadius: 3, yAxisID: 'y' },
                { label: 'OPEX Ratio (%)', data: opexRatio, type: 'line', borderColor: '#8e44ad', pointRadius: 4, borderWidth: 2, yAxisID: 'y1' },
            ]
        },
        options: {
            ...commonOpts,
            scales: {
                x: commonOpts.scales.x,
                y: { position: 'left', ticks: { callback: v => '$'+Math.round(v/1000)+'K' } },
                y1: { position: 'right', grid: { drawOnChartArea: false }, ticks: { callback: v => v+'%' }, min: 0, max: 100 },
            }
        }
    });

    // Loan Balance
    new Chart(document.getElementById('chartLoan'), {
        type: 'line',
        data: {
            labels: years,
            datasets: [{
                label: 'Loan Balance',
                data: loan,
                borderColor: '#2c3e50',
                backgroundColor: 'rgba(44,62,80,0.08)',
                fill: true, tension: 0.2, pointRadius: 4, borderWidth: 2,
            }]
        },
        options: { ...commonOpts, scales: { ...commonOpts.scales, y: { ticks: { callback: v => '$'+(v/1e6).toFixed(1)+'M' } } } }
    });

    // DSCR
    new Chart(document.getElementById('chartDSCR'), {
        type: 'line',
        data: {
            labels: years,
            datasets: [
                { label: 'DSCR', data: dscr, borderColor: '#2980b9', pointRadius: 4, borderWidth: 2, tension: 0.3 },
                { label: '1.0x Threshold', data: years.map(() => 1.0), borderColor: '#e74c3c', borderDash: [6,4], borderWidth: 1.5, pointRadius: 0 },
                { label: '1.25x Threshold', data: years.map(() => 1.25), borderColor: '#f39c12', borderDash: [6,4], borderWidth: 1.5, pointRadius: 0 },
            ]
        },
        options: { ...commonOpts, scales: { ...commonOpts.scales, y: { min: 0, ticks: { callback: v => v.toFixed(1)+'x' } } } }
    });

    // NOI Margin
    new Chart(document.getElementById('chartMargin'), {
        type: 'line',
        data: {
            labels: years,
            datasets: [{
                label: 'NOI Margin %',
                data: noiMargin,
                borderColor: '#27ae60',
                backgroundColor: 'rgba(39,174,96,0.1)',
                fill: true, tension: 0.3, pointRadius: 4, borderWidth: 2,
            }]
        },
        options: { ...commonOpts, scales: { ...commonOpts.scales, y: { min: 0, max: 100, ticks: { callback: v => v+'%' } } } }
    });
    </script>
</body>
</html>